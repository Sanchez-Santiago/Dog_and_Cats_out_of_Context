---
import Layout from "../layouts/Layout.astro";
import movies from "../data/movies.json";
import type { Movie } from "../lib/movie";

const videoList: Movie[] = movies;
---

<Layout>
  <div class="video-container">
    {
      videoList.map((video: Movie) => (
        <div class="video-item" data-id={video.id}>
          <h2>{video.title}</h2>
          <iframe
            class="video-player"
            width="560"
            height="315"
            src={video.url}
            title={video.title}
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          />
        </div>
      ))
    }
  </div>
</Layout>

<style>
  .video-container {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: center;
    padding: 2rem;
  }

  .video-item {
    width: 560px;
    background-color: #f8f8f8;
    padding: 1rem;
    border-radius: 10px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    text-align: center;
  }

  .video-player {
    width: 100%;
    height: 315px;
    border: none;
  }
</style>
